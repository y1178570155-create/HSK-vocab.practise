<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6.èƒ½åŠ›ã€åˆ¤æ–­ä¸è¯„ä»· - HSKç»ƒä¹ </title>
    <style>
        :root {
            /* é›é’è‰²ä¸»é¢˜ï¼Œä»£è¡¨ç†æ€§ä¸åˆ¤æ–­ */
            --primary: #3F51B5;
            --secondary: #7986CB;
            --correct: #27ae60;
            --wrong: #c0392b;
            --bg: #E8EAF6;
            --card-bg: #ffffff;
            --text: #303F9F;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            color: #333;
        }

        .container {
            width: 100%;
            max-width: 650px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(63, 81, 181, 0.15);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 90vh;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 16px 20px;
            text-align: center;
            flex-shrink: 0;
        }

        h1 { margin: 0; font-size: 1.25rem; letter-spacing: 1px; }
        .stats { margin-top: 8px; font-size: 0.95rem; opacity: 0.95; font-weight: 500; }

        /* Content */
        .content {
            flex-grow: 1;
            padding: 24px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        /* Start Screen */
        .start-screen {
            text-align: center;
            margin: auto;
            width: 100%;
        }
        .start-icon { font-size: 4rem; margin-bottom: 20px; color: var(--primary); }
        .start-info {
            background: #F5F7FA;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: left;
            border: 1px solid #C5CAE9;
        }
        .start-info p { margin: 10px 0; font-size: 1rem; color: #555; }
        
        .btn-start {
            background: var(--correct);
            color: white;
            border: none;
            padding: 16px 50px;
            font-size: 1.25rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
            transition: transform 0.2s;
            font-weight: bold;
        }
        .btn-start:active { transform: scale(0.96); }

        /* Question Area */
        .q-badge {
            display: inline-block;
            background: #C5CAE9;
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .q-text {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.6;
            color: #1a237e;
        }

        /* Pinyin Styling */
        ruby { ruby-position: over; }
        rt { font-size: 0.6em; color: #888; font-weight: normal; user-select: none; }

        /* Options */
        .options-grid { display: grid; gap: 14px; }
        
        .option-btn {
            background: white;
            border: 2px solid #E0E0E0;
            padding: 16px;
            border-radius: 12px;
            text-align: left;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
            color: #424242;
            position: relative;
        }

        .option-btn:hover:not(:disabled) { border-color: var(--primary); background: #E8EAF6; }

        .option-btn.correct { background: #e8f8f5; border-color: var(--correct); color: #1e8449; font-weight: bold; }
        .option-btn.wrong { background: #fdedec; border-color: var(--wrong); color: #c0392b; }
        .option-btn:disabled { cursor: default; }

        /* Feedback */
        .feedback {
            margin-top: 25px;
            padding: 15px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #bdc3c7;
            display: none;
            animation: slideUp 0.3s ease-out;
        }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .feedback.is-correct { border-left-color: var(--correct); background: #f0fff4; }
        .feedback.is-wrong { border-left-color: var(--wrong); background: #fff5f5; }

        .thai-expl { margin-top: 8px; font-size: 1rem; color: #666; }

        /* Navigation */
        .nav-buttons {
            margin-top: auto;
            padding-top: 20px;
            display: flex;
            justify-content: space-between;
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: opacity 0.2s;
        }
        .nav-btn.prev { background: #ECEFF1; color: #78909C; }
        .nav-btn.next { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(63, 81, 181, 0.3); }
        .nav-btn:disabled { opacity: 0.5; cursor: not-allowed; box-shadow: none; }

        /* Result */
        .result-score { font-size: 4rem; color: var(--primary); margin: 20px 0; font-weight: 800; }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>6.èƒ½åŠ›ã€åˆ¤æ–­ä¸è¯„ä»·</h1>
        <div class="stats">
            <span id="progress">å‡†å¤‡å¼€å§‹</span> | <span id="score">å¾—åˆ†: 0</span>
        </div>
    </header>

    <div class="content">
        <div id="start-screen" class="start-screen">
            <div class="start-icon">ğŸ§ ğŸ‘ğŸ¤”</div>
            <h2>HSK è¯æ±‡ä¸“é¡¹ç»ƒä¹ </h2>
            <div class="start-info">
                <p>ğŸ“ <strong>å†…å®¹ï¼š</strong> èƒ½åŠ›ã€æ¯”è¾ƒã€è¯„ä»·ã€è§‚ç‚¹</p>
                <p>ğŸ“ <strong>é¢˜é‡ï¼š</strong> 46 é¢˜ (46 à¸‚à¹‰à¸­)</p>
                <p>ğŸ’¯ <strong>æ»¡åˆ†ï¼š</strong> 92 åˆ† (92 à¸„à¸°à¹à¸™à¸™)</p>
                <p>ğŸ’¡ <strong>è§„åˆ™ï¼š</strong> åªæœ‰ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ</p>
            </div>
            <button class="btn-start" onclick="app.startQuiz()">å¼€å§‹ç»ƒä¹  (à¹€à¸£à¸´à¹ˆà¸¡)</button>
        </div>

        <div id="quiz-area" style="display: none; height: 100%; flex-direction: column;">
            <div id="question-container" style="flex-grow: 1;"></div>
            
            <div id="feedback-box" class="feedback"></div>

            <div class="nav-buttons">
                <button id="btn-prev" class="nav-btn prev" onclick="app.prevQuestion()" disabled>ä¸Šä¸€é¢˜</button>
                <button id="btn-next" class="nav-btn next" onclick="app.nextQuestion()" disabled>ä¸‹ä¸€é¢˜</button>
            </div>
        </div>

        <div id="result-screen" class="start-screen" style="display: none;">
            <h2>ç»ƒä¹ å®Œæˆ (à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™)</h2>
            <div class="result-score" id="final-score">0</div>
            <p style="color: #7f8c8d; margin-bottom: 30px;">æ»¡åˆ† 92 åˆ†</p>
            <button class="btn-start" onclick="location.reload()">å†ç»ƒä¸€æ¬¡ (à¸—à¸³à¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡)</button>
        </div>
    </div>
</div>

<script>
// --- 46 Questions Data (Removed: 22, 40, 46, 48) ---
const questionData = [
    // --- Part 1: Pinyin (1-10) ---
    { q: "å®¹æ˜“", options: ["rÃ³ng yÃ¬", "rÃ³ng yÄ«", "yÃ³ng yÃ¬", "rÃ²ng yÃ¬"], answer: 0, explain: "rÃ³ng yÃ¬ = à¸‡à¹ˆà¸²à¸¢ (Easy)", isPinyin: true },
    { q: "æ¸…æ¥š", options: ["qÄ«ng chu", "qÄ«ng chÇ”", "qÄ«ng chÅ«", "qÇng chu"], answer: 0, explain: "qÄ«ng chu = à¸Šà¸±à¸”à¹€à¸ˆà¸™ (Clear) *chu à¹€à¸›à¹‡à¸™à¹€à¸ªà¸µà¸¢à¸‡à¹€à¸šà¸²à¸«à¸£à¸·à¸­à¹€à¸ªà¸µà¸¢à¸‡à¸ªà¸²à¸¡à¸à¹‡à¹„à¸”à¹‰ à¹à¸•à¹ˆà¸¡à¸±à¸à¸­à¸­à¸à¹€à¸ªà¸µà¸¢à¸‡à¹€à¸šà¸²à¹ƒà¸™à¸ à¸²à¸©à¸²à¸à¸¹à¸”", isPinyin: true },
    { q: "ç‰¹åˆ«", options: ["tÃ¨ biÃ©", "tÃ¨ biÄ“", "de biÃ©", "tÃ¨ piÃ©"], answer: 0, explain: "tÃ¨ biÃ© = à¹€à¸›à¹‡à¸™à¸à¸´à¹€à¸¨à¸©/à¹‚à¸”à¸¢à¹€à¸‰à¸à¸²à¸° (Special/Especially)", isPinyin: true },
    { q: "è®¤çœŸ", options: ["rÃ¨n zhÄ“n", "rÃ¨n zhÄ“ng", "rÃ¨ng zhÄ“n", "rÃ©n zhÄ“n"], answer: 0, explain: "rÃ¨n zhÄ“n = à¸ˆà¸£à¸´à¸‡à¸ˆà¸±à¸‡/à¸•à¸±à¹‰à¸‡à¹ƒà¸ˆ (Serious/Conscientious)", isPinyin: true },
    { q: "é‡è¦", options: ["zhÃ²ng yÃ o", "zhÅng yÃ o", "zÃ²ng yÃ o", "zhÃ²ng yÄo"], answer: 0, explain: "zhÃ²ng yÃ o = à¸ªà¸³à¸„à¸±à¸ (Important)", isPinyin: true },
    { q: "ç®€å•", options: ["jiÇn dÄn", "jiÄn dÄn", "jiÇn dÃ¡n", "jiÇn shÄn"], answer: 0, explain: "jiÇn dÄn = à¸‡à¹ˆà¸²à¸¢/à¹€à¸£à¸µà¸¢à¸šà¸‡à¹ˆà¸²à¸¢ (Simple)", isPinyin: true },
    { q: "ç›¸ä¿¡", options: ["xiÄng xÃ¬n", "xiÇng xÃ¬n", "xiÄng xÃ¬ng", "xiÃ¡ng xÃ¬n"], answer: 0, explain: "xiÄng xÃ¬n = à¹€à¸Šà¸·à¹ˆà¸­ (Believe)", isPinyin: true },
    { q: "åŒæ„", options: ["tÃ³ng yÃ¬", "tÅng yÃ¬", "tÃ³ng yÄ«", "dÃ³ng yÃ¬"], answer: 0, explain: "tÃ³ng yÃ¬ = à¹€à¸«à¹‡à¸™à¸”à¹‰à¸§à¸¢ (Agree)", isPinyin: true },
    { q: "æ–¹ä¾¿", options: ["fÄng biÃ n", "fÃ¡ng biÃ n", "fÄng piÃ n", "fÄng biÄn"], answer: 0, explain: "fÄng biÃ n = à¸ªà¸°à¸”à¸§à¸ (Convenient)", isPinyin: true },
    { q: "åŠªåŠ›", options: ["nÇ” lÃ¬", "nÃ¹ lÃ¬", "nÇ” lÇ", "lÇ” lÃ¬"], answer: 0, explain: "nÇ” lÃ¬ = à¸‚à¸¢à¸±à¸™/à¸à¸¢à¸²à¸¢à¸²à¸¡ (Hardworking/Effort)", isPinyin: true },

    // --- Part 2: Ability & Modals (11-20) ---
    { q: "æˆ‘____è¯´æ±‰è¯­ã€‚", options: ["<ruby>ä¼š<rt>huÃ¬</rt></ruby>", "<ruby>å¯èƒ½<rt>kÄ›nÃ©ng</rt></ruby>", "<ruby>æ„¿æ„<rt>yuÃ nyÃ¬</rt></ruby>", "<ruby>åº”è¯¥<rt>yÄ«nggÄi</rt></ruby>"], answer: 0, explain: "à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–/à¸—à¸±à¸à¸©à¸° (à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸¡à¸²) à¹ƒà¸Šà¹‰ 'huÃ¬' (ä¼š) = à¸à¸¹à¸”à¸ à¸²à¸©à¸²à¸ˆà¸µà¸™à¹„à¸”à¹‰", isPinyin: false },
    { q: "è¿™é‡Œçš„èœå¾ˆè´µï¼Œä½†æ˜¯å¾ˆ____ã€‚", options: ["<ruby>å¥½åƒ<rt>hÇochÄ«</rt></ruby>", "<ruby>å¥½ç©<rt>hÇowÃ¡n</rt></ruby>", "<ruby>å¥½å¬<rt>hÇotÄ«ng</rt></ruby>", "<ruby>å¥½çœ‹<rt>hÇokÃ n</rt></ruby>"], answer: 0, explain: "à¸­à¸²à¸«à¸²à¸£à¹à¸à¸‡à¹à¸•à¹ˆ 'à¸­à¸£à¹ˆà¸­à¸¢' (hÇochÄ«)", isPinyin: false },
    { q: "æ˜å¤©æˆ‘æœ‰äº‹ï¼Œä¸____å»ä½ å®¶ã€‚", options: ["<ruby>èƒ½<rt>nÃ©ng</rt></ruby>", "<ruby>ä¼š<rt>huÃ¬</rt></ruby>", "<ruby>è¦<rt>yÃ o</rt></ruby>", "<ruby>æ•¢<rt>gÇn</rt></ruby>"], answer: 0, explain: "à¸•à¸´à¸”à¸˜à¸¸à¸£à¸° à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹„à¸›à¹„à¸”à¹‰ (à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¹„à¸¡à¹ˆà¸­à¸³à¸™à¸§à¸¢) à¹ƒà¸Šà¹‰ 'nÃ©ng' (èƒ½)", isPinyin: false },
    { q: "è¿™é‡Œå¯ä»¥____å—ï¼Ÿ", options: ["<ruby>æŠ½çƒŸ<rt>chÅuyÄn</rt></ruby>", "<ruby>å¸®å¿™<rt>bÄngmÃ¡ng</rt></ruby>", "<ruby>è§‰å¾—<rt>juÃ©de</rt></ruby>", "<ruby>æœ‰å<rt>yÇ’umÃ­ng</rt></ruby>"], answer: 0, explain: "à¸‚à¸­à¸­à¸™à¸¸à¸à¸²à¸• 'à¸ªà¸¹à¸šà¸šà¸¸à¸«à¸£à¸µà¹ˆ' (chÅuyÄn) à¹„à¸”à¹‰à¹„à¸«à¸¡", isPinyin: false },
    { q: "çœ‹å¤©è‰²ï¼Œä¸‹åˆ____ä¼šä¸‹é›¨ã€‚", options: ["<ruby>å¯èƒ½<rt>kÄ›nÃ©ng</rt></ruby>", "<ruby>å¯ä»¥<rt>kÄ›yÇ</rt></ruby>", "<ruby>æ„¿æ„<rt>yuÃ nyÃ¬</rt></ruby>", "<ruby>èƒ½<rt>nÃ©ng</rt></ruby>"], answer: 0, explain: "à¸„à¸²à¸”à¹€à¸”à¸²à¸„à¸§à¸²à¸¡à¹€à¸›à¹‡à¸™à¹„à¸›à¹„à¸”à¹‰ à¹ƒà¸Šà¹‰ 'kÄ›nÃ©ng' (å¯èƒ½) = à¸­à¸²à¸ˆà¸ˆà¸°", isPinyin: false },
    { q: "æˆ‘____å¸®ä½ ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æ—¶é—´ã€‚", options: ["<ruby>æ„¿æ„<rt>yuÃ nyÃ¬</rt></ruby>", "<ruby>åº”è¯¥<rt>yÄ«nggÄi</rt></ruby>", "<ruby>å¿…é¡»<rt>bÃ¬xÅ«</rt></ruby>", "<ruby>æ•¢<rt>gÇn</rt></ruby>"], answer: 0, explain: "à¸‰à¸±à¸™ 'à¹€à¸•à¹‡à¸¡à¹ƒà¸ˆ/à¸¢à¸´à¸™à¸”à¸µ' (yuÃ nyÃ¬) à¸ˆà¸°à¸Šà¹ˆà¸§à¸¢ à¹à¸•à¹ˆà¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸§à¸¥à¸²", isPinyin: false },
    { q: "ä½ ____å»ç¡è§‰äº†ï¼Œæ˜å¤©è¿˜è¦ä¸Šå­¦ã€‚", options: ["<ruby>åº”è¯¥<rt>yÄ«nggÄi</rt></ruby>", "<ruby>å¯èƒ½<rt>kÄ›nÃ©ng</rt></ruby>", "<ruby>æ„¿æ„<rt>yuÃ nyÃ¬</rt></ruby>", "<ruby>å¯ä»¥<rt>kÄ›yÇ</rt></ruby>"], answer: 0, explain: "à¹ƒà¸«à¹‰à¸„à¸³à¹à¸™à¸°à¸™à¸³ 'à¸„à¸§à¸£à¸ˆà¸°' (yÄ«nggÄi) à¹„à¸›à¸™à¸­à¸™à¹„à¸”à¹‰à¹à¸¥à¹‰à¸§", isPinyin: false },
    { q: "æ—¶é—´ä¸æ—©äº†ï¼Œæˆ‘____å›å®¶äº†ã€‚", options: ["<ruby>å¿…é¡»<rt>bÃ¬xÅ«</rt></ruby>", "<ruby>å¯ä»¥<rt>kÄ›yÇ</rt></ruby>", "<ruby>å¯èƒ½<rt>kÄ›nÃ©ng</rt></ruby>", "<ruby>ä¼š<rt>huÃ¬</rt></ruby>"], answer: 0, explain: "à¸„à¸§à¸²à¸¡à¸ˆà¸³à¹€à¸›à¹‡à¸™/à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ 'à¸•à¹‰à¸­à¸‡' (bÃ¬xÅ«) à¸à¸¥à¸±à¸šà¸šà¹‰à¸²à¸™", isPinyin: false },
    { q: "è¿™ä¹ˆé«˜çš„å±±ï¼Œä½ ____çˆ¬å—ï¼Ÿ", options: ["<ruby>æ•¢<rt>gÇn</rt></ruby>", "<ruby>è‚¯<rt>kÄ›n</rt></ruby>", "<ruby>ä¼š<rt>huÃ¬</rt></ruby>", "<ruby>å¯èƒ½<rt>kÄ›nÃ©ng</rt></ruby>"], answer: 0, explain: "à¸ à¸¹à¹€à¸‚à¸²à¸ªà¸¹à¸‡à¸‚à¸™à¸²à¸”à¸™à¸µà¹‰ à¸„à¸¸à¸“ 'à¸à¸¥à¹‰à¸²' (gÇn) à¸›à¸µà¸™à¹„à¸«à¸¡", isPinyin: false },
    { q: "è¿™æœ¬ä¹¦å¾ˆ____ï¼Œä½ åº”è¯¥çœ‹çœ‹ã€‚", options: ["<ruby>ä¸é”™<rt>bÃºcuÃ²</rt></ruby>", "<ruby>å®¹æ˜“<rt>rÃ³ngyÃ¬</rt></ruby>", "<ruby>éš¾<rt>nÃ¡n</rt></ruby>", "<ruby>ç®€å•<rt>jiÇndÄn</rt></ruby>"], answer: 0, explain: "à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¸”à¸¹ à¹à¸ªà¸”à¸‡à¸§à¹ˆà¸²à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¹€à¸¥à¹ˆà¸¡à¸™à¸µà¹‰ 'à¹„à¸¡à¹ˆà¹€à¸¥à¸§/à¸”à¸µ' (bÃºcuÃ²)", isPinyin: false },

    // --- Part 3: Evaluation (21-29) ---
    { q: "è¿™æ¬¡è€ƒè¯•å¤ª____äº†ï¼Œæˆ‘éƒ½ä¼šåšã€‚", options: ["<ruby>å®¹æ˜“<rt>rÃ³ngyÃ¬</rt></ruby>", "<ruby>éš¾<rt>nÃ¡n</rt></ruby>", "<ruby>é‡è¦<rt>zhÃ²ngyÃ o</rt></ruby>", "<ruby>è®¤çœŸ<rt>rÃ¨nzhÄ“n</rt></ruby>"], answer: 0, explain: "à¸—à¸³à¹„à¸”à¹‰à¸«à¸¡à¸”à¹à¸ªà¸”à¸‡à¸§à¹ˆà¸²à¸‚à¹‰à¸­à¸ªà¸­à¸š 'à¸‡à¹ˆà¸²à¸¢' (rÃ³ngyÃ¬)", isPinyin: false },
    // åŸç¬¬22é¢˜å·²åˆ é™¤
    { q: "ä»–å·¥ä½œå¾ˆ____ï¼Œä»æ¥ä¸è¿Ÿåˆ°ã€‚", options: ["<ruby>è®¤çœŸ<rt>rÃ¨nzhÄ“n</rt></ruby>", "<ruby>æ–¹ä¾¿<rt>fÄngbiÃ n</rt></ruby>", "<ruby>ç®€å•<rt>jiÇndÄn</rt></ruby>", "<ruby>ä¾¿å®œ<rt>piÃ¡nyi</rt></ruby>"], answer: 0, explain: "à¹„à¸¡à¹ˆà¹€à¸„à¸¢à¸ªà¸²à¸¢ à¹à¸ªà¸”à¸‡à¸§à¹ˆà¸²à¸—à¸³à¸‡à¸²à¸™ 'à¸ˆà¸£à¸´à¸‡à¸ˆà¸±à¸‡/à¸•à¸±à¹‰à¸‡à¹ƒà¸ˆ' (rÃ¨nzhÄ“n)", isPinyin: false },
    { q: "è¿™ä¸ªèœ____å¥½åƒã€‚", options: ["<ruby>ç‰¹åˆ«<rt>tÃ¨biÃ©</rt></ruby>", "<ruby>å½“ç„¶<rt>dÄngrÃ¡n</rt></ruby>", "<ruby>åº”è¯¥<rt>yÄ«nggÄi</rt></ruby>", "<ruby>ä¸€æ ·<rt>yÃ­yÃ ng</rt></ruby>"], answer: 0, explain: "à¸­à¸£à¹ˆà¸­à¸¢ 'à¹€à¸›à¹‡à¸™à¸à¸´à¹€à¸¨à¸©/à¸¡à¸²à¸à¹†' (tÃ¨biÃ©)", isPinyin: false },
    { q: "åœ¨è¿™é‡Œååœ°é“å¾ˆ____ã€‚", options: ["<ruby>æ–¹ä¾¿<rt>fÄngbiÃ n</rt></ruby>", "<ruby>çƒ­æƒ…<rt>rÃ¨qÃ­ng</rt></ruby>", "<ruby>åŠªåŠ›<rt>nÇ”lÃ¬</rt></ruby>", "<ruby>èªæ˜<rt>cÅngming</rt></ruby>"], answer: 0, explain: "à¸£à¸–à¹„à¸Ÿà¹ƒà¸•à¹‰à¸”à¸´à¸™à¸¡à¸µà¸„à¸§à¸²à¸¡ 'à¸ªà¸°à¸”à¸§à¸' (fÄngbiÃ n)", isPinyin: false },
    { q: "è¿™ä¸ªæˆ¿é—´å¾ˆ____ï¼Œä¸€ç‚¹å„¿å£°éŸ³ä¹Ÿæ²¡æœ‰ã€‚", options: ["<ruby>å®‰é™<rt>ÄnjÃ¬ng</rt></ruby>", "<ruby>å¹²å‡€<rt>gÄnjÃ¬ng</rt></ruby>", "<ruby>å¥‡æ€ª<rt>qÃ­guÃ i</rt></ruby>", "<ruby>çƒ­æƒ…<rt>rÃ¨qÃ­ng</rt></ruby>"], answer: 0, explain: "à¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸ªà¸µà¸¢à¸‡à¹€à¸¥à¸¢ à¹à¸ªà¸”à¸‡à¸§à¹ˆà¸² 'à¹€à¸‡à¸µà¸¢à¸š' (ÄnjÃ¬ng)", isPinyin: false },
    { q: "é‚£å®¶å•†åº—å¾ˆ____ï¼Œå¤§å®¶éƒ½çŸ¥é“ã€‚", options: ["<ruby>æœ‰å<rt>yÇ’umÃ­ng</rt></ruby>", "<ruby>æœ‰ç”¨<rt>yÇ’uyÃ²ng</rt></ruby>", "<ruby>æœ‰é’±<rt>yÇ’uqiÃ¡n</rt></ruby>", "<ruby>æœ‰è¶£<rt>yÇ’uqÃ¹</rt></ruby>"], answer: 0, explain: "à¸—à¸¸à¸à¸„à¸™à¸£à¸¹à¹‰à¸ˆà¸±à¸ à¹à¸ªà¸”à¸‡à¸§à¹ˆà¸² 'à¸¡à¸µà¸Šà¸·à¹ˆà¸­à¹€à¸ªà¸µà¸¢à¸‡' (yÇ’umÃ­ng)", isPinyin: false },
    { q: "è™½ç„¶è¿™ä»¶è¡£æœå¾ˆ____ï¼Œä½†æ˜¯è´¨é‡ä¸å¥½ã€‚", options: ["<ruby>ä¾¿å®œ<rt>piÃ¡nyi</rt></ruby>", "<ruby>è´µ<rt>guÃ¬</rt></ruby>", "<ruby>å¥½<rt>hÇo</rt></ruby>", "<ruby>æ¼‚äº®<rt>piÃ oliang</rt></ruby>"], answer: 0, explain: "à¸„à¸¸à¸“à¸ à¸²à¸à¹„à¸¡à¹ˆà¸”à¸µ (à¹à¸•à¹ˆà¸„à¸™à¸­à¸²à¸ˆà¸‹à¸·à¹‰à¸­) à¹€à¸à¸£à¸²à¸° 'à¸£à¸²à¸„à¸²à¸–à¸¹à¸' (piÃ¡nyi)", isPinyin: false },
    { q: "æˆ‘è§‰å¾—å¾ˆ____ï¼Œä¸ºä»€ä¹ˆä»–æ²¡æ¥ï¼Ÿ", options: ["<ruby>å¥‡æ€ª<rt>qÃ­guÃ i</rt></ruby>", "<ruby>ç‰¹åˆ«<rt>tÃ¨biÃ©</rt></ruby>", "<ruby>æ¸…æ¥š<rt>qÄ«ngchu</rt></ruby>", "<ruby>å®¹æ˜“<rt>rÃ³ngyÃ¬</rt></ruby>"], answer: 0, explain: "à¸ªà¸‡à¸ªà¸±à¸¢à¸§à¹ˆà¸²à¸—à¸³à¹„à¸¡à¹€à¸‚à¸²à¹„à¸¡à¹ˆà¸¡à¸² à¸£à¸¹à¹‰à¸ªà¸¶à¸ 'à¹à¸›à¸¥à¸à¹ƒà¸ˆ/à¹à¸›à¸¥à¸' (qÃ­guÃ i)", isPinyin: false },
    { q: "æˆ‘å¯¹æˆ‘çš„æ–°å·¥ä½œå¾ˆ____ã€‚", options: ["<ruby>æ»¡æ„<rt>mÇnyÃ¬</rt></ruby>", "<ruby>åŒæ„<rt>tÃ³ngyÃ¬</rt></ruby>", "<ruby>æ„¿æ„<rt>yuÃ nyÃ¬</rt></ruby>", "<ruby>ç”Ÿæ°”<rt>shÄ“ngqÃ¬</rt></ruby>"], answer: 0, explain: "à¸£à¸¹à¹‰à¸ªà¸¶à¸ 'à¸à¸­à¹ƒà¸ˆ' (mÇnyÃ¬) à¸à¸±à¸šà¸‡à¸²à¸™à¹ƒà¸«à¸¡à¹ˆ", isPinyin: false },

    // --- Part 4: Comparison (30-38) ---
    { q: "ä»Šå¤©____æ˜¨å¤©çƒ­ã€‚", options: ["<ruby>æ¯”<rt>bÇ</rt></ruby>", "<ruby>æŠŠ<rt>bÇ</rt></ruby>", "<ruby>è¢«<rt>bÃ¨i</rt></ruby>", "<ruby>ä¸<rt>bÃ¹</rt></ruby>"], answer: 0, explain: "à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š A à¸à¸§à¹ˆà¸² B à¹ƒà¸Šà¹‰ 'bÇ' (æ¯”)", isPinyin: false },
    { q: "ä»–æ˜¯æˆ‘ä»¬ç­____èªæ˜çš„å­¦ç”Ÿã€‚", options: ["<ruby>æœ€<rt>zuÃ¬</rt></ruby>", "<ruby>å¾ˆ<rt>hÄ›n</rt></ruby>", "<ruby>çœŸ<rt>zhÄ“n</rt></ruby>", "<ruby>å¤ª<rt>tÃ i</rt></ruby>"], answer: 0, explain: "à¸‰à¸¥à¸²à¸” 'à¸—à¸µà¹ˆà¸ªà¸¸à¸”' (zuÃ¬) à¹ƒà¸™à¸«à¹‰à¸­à¸‡", isPinyin: false },
    { q: "æˆ‘å’Œä»–____é«˜ã€‚", options: ["<ruby>ä¸€æ ·<rt>yÃ­yÃ ng</rt></ruby>", "<ruby>ä¸€èµ·<rt>yÃ¬qÇ</rt></ruby>", "<ruby>ä¸€å®š<rt>yÃ­dÃ¬ng</rt></ruby>", "<ruby>ä¸€èˆ¬<rt>yÃ¬bÄn</rt></ruby>"], answer: 0, explain: "à¸ªà¸¹à¸‡ 'à¹€à¸—à¹ˆà¸²à¸à¸±à¸™' (yÃ­yÃ ng)", isPinyin: false },
    { q: "è¿™ä»¶è¡£æœæ²¡æœ‰é‚£ä»¶____ã€‚", options: ["<ruby>å¥½çœ‹<rt>hÇokÃ n</rt></ruby>", "<ruby>æ¯”<rt>bÇ</rt></ruby>", "<ruby>æœ€<rt>zuÃ¬</rt></ruby>", "<ruby>ä¸€æ ·<rt>yÃ­yÃ ng</rt></ruby>"], answer: 0, explain: "à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ 'æ²¡æœ‰... adj' (à¹„à¸¡à¹ˆ...à¹€à¸—à¹ˆà¸²à¸à¸±à¸š) => à¸•à¸±à¸§à¸™à¸µà¹‰à¹„à¸¡à¹ˆ 'à¸ªà¸§à¸¢' à¹€à¸—à¹ˆà¸²à¸•à¸±à¸§à¸™à¸±à¹‰à¸™", isPinyin: false },
    { q: "é›¨____ä¸‹____å¤§ã€‚", options: ["<ruby>è¶Š...è¶Š...<rt>yuÃ¨...yuÃ¨...</rt></ruby>", "<ruby>åˆ...åˆ...<rt>yÃ²u...yÃ²u...</rt></ruby>", "<ruby>è¾¹...è¾¹...<rt>biÄn...biÄn...</rt></ruby>", "<ruby>æœ€...æœ€...<rt>zuÃ¬...zuÃ¬...</rt></ruby>"], answer: 0, explain: "à¸¢à¸´à¹ˆà¸‡...à¸¢à¸´à¹ˆà¸‡... (The more... the more) = à¸à¸™ 'à¸¢à¸´à¹ˆà¸‡' à¸•à¸ 'à¸¢à¸´à¹ˆà¸‡' à¸«à¸™à¸±à¸", isPinyin: false },
    { q: "è¿™ä¸ªæ±‰å­—æœ‰ç‚¹å„¿____å†™ã€‚", options: ["<ruby>éš¾<rt>nÃ¡n</rt></ruby>", "<ruby>å®¹æ˜“<rt>rÃ³ngyÃ¬</rt></ruby>", "<ruby>å¥½<rt>hÇo</rt></ruby>", "<ruby>å¤§<rt>dÃ </rt></ruby>"], answer: 0, explain: "à¸«à¸™à¹ˆà¸­à¸¢ (à¹€à¸Šà¸´à¸‡à¸¥à¸š/à¸šà¹ˆà¸™) + Adj = à¹€à¸‚à¸µà¸¢à¸™ 'à¸¢à¸²à¸' à¸«à¸™à¹ˆà¸­à¸¢", isPinyin: false },
    { q: "è¿™ä¸ªè‹¹æœæ¯”é‚£ä¸ª____ã€‚", options: ["<ruby>å¤§<rt>dÃ </rt></ruby>", "<ruby>å¾ˆå¤§<rt>hÄ›ndÃ </rt></ruby>", "<ruby>éå¸¸å¤§<rt>fÄ“ichÃ¡ng dÃ </rt></ruby>", "<ruby>æœ€å¤§<rt>zuÃ¬dÃ </rt></ruby>"], answer: 0, explain: "à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ æ¯” à¸«à¹‰à¸²à¸¡à¹ƒà¸Šà¹‰ hÄ›n/fÄ“ichÃ¡ng à¸«à¸™à¹‰à¸² adj => 'bÇ nÃ ge dÃ '", isPinyin: false },
    { q: "æˆ‘è§‰å¾—è¿™ä»¶è¡£æœ____äº†ã€‚", options: ["<ruby>å¤ªè´µ<rt>tÃ i guÃ¬</rt></ruby>", "<ruby>å¾ˆè´µ<rt>hÄ›n guÃ¬</rt></ruby>", "<ruby>éå¸¸è´µ<rt>fÄ“ichÃ¡ng guÃ¬</rt></ruby>", "<ruby>çœŸè´µ<rt>zhÄ“n guÃ¬</rt></ruby>"], answer: 0, explain: "à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ å¤ª...äº† (à¹€à¸à¸´à¸™à¹„à¸›/à¹€à¸«à¸¥à¸·à¸­à¹€à¸à¸´à¸™) = à¹à¸à¸‡à¹€à¸à¸´à¸™à¹„à¸›", isPinyin: false },
    { q: "ä»–çš„æ±‰è¯­æ¯”æˆ‘____å¤šäº†ã€‚", options: ["<ruby>å¥½<rt>hÇo</rt></ruby>", "<ruby>å¾ˆå¥½<rt>hÄ›n hÇo</rt></ruby>", "<ruby>å¤ªå¥½<rt>tÃ i hÇo</rt></ruby>", "<ruby>å¥½æ<rt>hÇo jÃ­</rt></ruby>"], answer: 0, explain: "à¸”à¸µà¸à¸§à¹ˆà¸²... 'à¸¡à¸²à¸' (hÇo duÅ le)", isPinyin: false },
    // åŸç¬¬40é¢˜å·²åˆ é™¤

    // --- Part 5: Judgment & Opinion (39-46) ---
    { q: "ä½ ____è¿™ä»¶è¡£æœæ€ä¹ˆæ ·ï¼Ÿ", options: ["<ruby>è§‰å¾—<rt>juÃ©de</rt></ruby>", "<ruby>çŸ¥é“<rt>zhÄ«dao</rt></ruby>", "<ruby>è®¤è¯†<rt>rÃ¨nshi</rt></ruby>", "<ruby>å–œæ¬¢<rt>xÇhuan</rt></ruby>"], answer: 0, explain: "à¸„à¸¸à¸“ 'à¸„à¸´à¸”à¸§à¹ˆà¸²/à¸£à¸¹à¹‰à¸ªà¸¶à¸à¸§à¹ˆà¸²' (juÃ©de) à¹€à¸ªà¸·à¹‰à¸­à¸•à¸±à¸§à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¹„à¸‡?", isPinyin: false },
    { q: "æˆ‘____ä»–æ˜¯å¯¹çš„ã€‚", options: ["<ruby>è®¤ä¸º<rt>rÃ¨nwÃ©i</rt></ruby>", "<ruby>ä»¥ä¸º<rt>yÇwÃ©i</rt></ruby>", "<ruby>æ‰“ç®—<rt>dÇsuÃ n</rt></ruby>", "<ruby>å†³å®š<rt>juÃ©dÃ¬ng</rt></ruby>"], answer: 0, explain: "à¸‰à¸±à¸™ 'à¸„à¸´à¸”à¸§à¹ˆà¸²/à¸¡à¸µà¸„à¸§à¸²à¸¡à¹€à¸«à¹‡à¸™à¸§à¹ˆà¸²' (rÃ¨nwÃ©i) à¹€à¸‚à¸²à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡ (Formal than juede)", isPinyin: false },
    { q: "æˆ‘____ä½ æ˜¯è€å¸ˆï¼ŒåŸæ¥ä½ æ˜¯åŒ»ç”Ÿã€‚", options: ["<ruby>ä»¥ä¸º<rt>yÇwÃ©i</rt></ruby>", "<ruby>è®¤ä¸º<rt>rÃ¨nwÃ©i</rt></ruby>", "<ruby>å› ä¸º<rt>yÄ«nwÃ¨i</rt></ruby>", "<ruby>æˆä¸º<rt>chÃ©ngwÃ©i</rt></ruby>"], answer: 0, explain: "à¸‰à¸±à¸™ 'à¸™à¸¶à¸à¸§à¹ˆà¸²/à¸«à¸¥à¸‡à¸„à¸´à¸”à¸§à¹ˆà¸²' (yÇwÃ©i) ... (à¹à¸•à¹ˆà¸„à¸§à¸²à¸¡à¸ˆà¸£à¸´à¸‡à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ)", isPinyin: false },
    { q: "è¯·____æˆ‘ï¼Œæˆ‘æ²¡æœ‰éª—ä½ ã€‚", options: ["<ruby>ç›¸ä¿¡<rt>xiÄngxÃ¬n</rt></ruby>", "<ruby>åŒæ„<rt>tÃ³ngyÃ¬</rt></ruby>", "<ruby>æ„¿æ„<rt>yuÃ nyÃ¬</rt></ruby>", "<ruby>æ¸…æ¥š<rt>qÄ«ngchu</rt></ruby>"], answer: 0, explain: "à¹‚à¸›à¸£à¸” 'à¹€à¸Šà¸·à¹ˆà¸­' (xiÄngxÃ¬n) à¸‰à¸±à¸™", isPinyin: false },
    { q: "åˆ«____ï¼Œé—®é¢˜å¾ˆå®¹æ˜“è§£å†³ã€‚", options: ["<ruby>æ‹…å¿ƒ<rt>dÄnxÄ«n</rt></ruby>", "<ruby>æ”¾å¿ƒ<rt>fÃ ngxÄ«n</rt></ruby>", "<ruby>å°å¿ƒ<rt>xiÇoxÄ«n</rt></ruby>", "<ruby>å…³å¿ƒ<rt>guÄnxÄ«n</rt></ruby>"], answer: 0, explain: "à¸­à¸¢à¹ˆà¸² 'à¸à¸±à¸‡à¸§à¸¥' (dÄnxÄ«n)", isPinyin: false },
    // åŸç¬¬46é¢˜å·²åˆ é™¤
    { q: "æˆ‘____æ˜å¹´å»ä¸­å›½æ—…æ¸¸ã€‚", options: ["<ruby>æ‰“ç®—<rt>dÇsuÃ n</rt></ruby>", "<ruby>è®¡ç®—<rt>jÃ¬suÃ n</rt></ruby>", "<ruby>å¯èƒ½<rt>kÄ›nÃ©ng</rt></ruby>", "<ruby>æ€»æ˜¯<rt>zÇ’ngshÃ¬</rt></ruby>"], answer: 0, explain: "à¸‰à¸±à¸™ 'à¸§à¸²à¸‡à¹à¸œà¸™/à¸à¸°à¸§à¹ˆà¸²' (dÇsuÃ n) à¸ˆà¸°à¹„à¸›à¹€à¸—à¸µà¹ˆà¸¢à¸§", isPinyin: false },
    // åŸç¬¬48é¢˜å·²åˆ é™¤
    { q: "è¿‡é©¬è·¯è¦____ã€‚", options: ["<ruby>å°å¿ƒ<rt>xiÇoxÄ«n</rt></ruby>", "<ruby>å°æ°”<rt>xiÇoqÃ¬</rt></ruby>", "<ruby>æ‹…å¿ƒ<rt>dÄnxÄ«n</rt></ruby>", "<ruby>æ”¾å¿ƒ<rt>fÃ ngxÄ«n</rt></ruby>"], answer: 0, explain: "à¸‚à¹‰à¸²à¸¡à¸–à¸™à¸™à¸•à¹‰à¸­à¸‡ 'à¸£à¸°à¸§à¸±à¸‡' (xiÇoxÄ«n)", isPinyin: false },
    { q: "æˆ‘____å¤§å®¶éƒ½å¥åº·å¿«ä¹ã€‚", options: ["<ruby>å¸Œæœ›<rt>xÄ«wÃ ng</rt></ruby>", "<ruby>å¤±æœ›<rt>shÄ«wÃ ng</rt></ruby>", "<ruby>ä¹ æƒ¯<rt>xÃ­guÃ n</rt></ruby>", "<ruby>ç»ƒä¹ <rt>liÃ nxÃ­</rt></ruby>"], answer: 0, explain: "à¸‰à¸±à¸™ 'à¸«à¸§à¸±à¸‡à¸§à¹ˆà¸²' (xÄ«wÃ ng) à¸—à¸¸à¸à¸„à¸™à¸ˆà¸°à¹à¸‚à¹‡à¸‡à¹à¸£à¸‡", isPinyin: false }
];

// --- Application Logic ---
const app = {
    currentIndex: 0,
    score: 0,
    answers: new Array(questionData.length).fill(null),
    shuffledQs: [],

    // Start Quiz
    startQuiz: function() {
        // Shuffle Options Logic
        this.shuffledQs = questionData.map((item, index) => {
            let indices = [0, 1, 2, 3];
            // Fisher-Yates Shuffle
            for (let i = indices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [indices[i], indices[j]] = [indices[j], indices[i]];
            }
            return {
                ...item,
                originalIndex: index,
                shuffledIndices: indices
            };
        });

        this.currentIndex = 0;
        this.score = 0;
        this.answers.fill(null);

        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'none';
        document.getElementById('quiz-area').style.display = 'flex';
        document.getElementById('score').innerText = 'å¾—åˆ†: 0';
        
        this.renderQuestion();
    },

    // Render Question
    renderQuestion: function() {
        const index = this.currentIndex;
        const q = this.shuffledQs[index];
        const container = document.getElementById('question-container');
        
        document.getElementById('progress').innerText = `é¢˜ç›®: ${index + 1}/${questionData.length}`;

        // Badge
        let badgeText = q.isPinyin ? "æ‹¼éŸ³æµ‹è¯• (Pinyin)" : "è¯æ±‡ä¸è¯­æ³• (Vocab & Grammar)";
        
        let html = `
            <div class="q-badge">${badgeText}</div>
            <div class="q-text">${index + 1}. ${q.q}</div>
            <div class="options-grid">
        `;

        // Options
        q.shuffledIndices.forEach(optIndex => {
            const optText = q.options[optIndex];
            const userChoice = this.answers[index];
            
            let btnClass = "option-btn";
            let disabledAttr = "";
            let clickHandler = `onclick="app.handleAnswer(${optIndex})"`;

            if (userChoice !== null) {
                disabledAttr = "disabled";
                clickHandler = "";
                if (optIndex === q.answer) {
                    btnClass += " correct"; 
                } else if (userChoice === optIndex) {
                    btnClass += " wrong"; 
                }
            }

            html += `<button class="${btnClass}" ${disabledAttr} ${clickHandler}>${optText}</button>`;
        });

        html += `</div>`;
        container.innerHTML = html;

        this.updateFeedbackAndNav();
    },

    // Handle Answer
    handleAnswer: function(selectedIndex) {
        if (this.answers[this.currentIndex] !== null) return;

        const q = this.shuffledQs[this.currentIndex];
        this.answers[this.currentIndex] = selectedIndex;

        // Score Calculation (46 qs * 2 pts = 92)
        if (selectedIndex === q.answer) {
            this.score += 2;
            document.getElementById('score').innerText = `å¾—åˆ†: ${this.score}`;
        }

        this.renderQuestion();
    },

    // Update UI
    updateFeedbackAndNav: function() {
        const index = this.currentIndex;
        const userChoice = this.answers[index];
        const q = this.shuffledQs[index];
        
        const feedbackBox = document.getElementById('feedback-box');
        const nextBtn = document.getElementById('btn-next');
        const prevBtn = document.getElementById('btn-prev');

        if (userChoice !== null) {
            const isCorrect = (userChoice === q.answer);
            feedbackBox.style.display = 'block';
            feedbackBox.className = `feedback ${isCorrect ? 'is-correct' : 'is-wrong'}`;
            
            const tempDiv = document.createElement("div");
            tempDiv.innerHTML = q.options[q.answer];
            const correctText = tempDiv.innerText;

            feedbackBox.innerHTML = `
                <strong>${isCorrect ? 'âœ… å›ç­”æ­£ç¡® (à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡)' : 'âŒ å›ç­”é”™è¯¯ (à¸•à¸­à¸šà¸œà¸´à¸”)'}</strong>
                <div style="margin-top: 5px;">æ­£ç¡®ç­”æ¡ˆ: <b>${correctText}</b></div>
                <div class="thai-expl">è§£æ: ${q.explain}</div>
            `;
            nextBtn.disabled = false;
        } else {
            feedbackBox.style.display = 'none';
            nextBtn.disabled = true;
        }

        prevBtn.disabled = (index === 0);
        
        if (index === questionData.length - 1) {
            nextBtn.innerText = "æŸ¥çœ‹æˆç»© (à¸”à¸¹à¸„à¸°à¹à¸™à¸™)";
        } else {
            nextBtn.innerText = "ä¸‹ä¸€é¢˜ (à¸‚à¹‰à¸­à¸–à¸±à¸”à¹„à¸›)";
        }
    },

    // Navigation
    nextQuestion: function() {
        if (this.currentIndex < questionData.length - 1) {
            this.currentIndex++;
            this.renderQuestion();
        } else {
            this.showResult();
        }
    },

    prevQuestion: function() {
        if (this.currentIndex > 0) {
            this.currentIndex--;
            this.renderQuestion();
        }
    },

    // Result
    showResult: function() {
        document.getElementById('quiz-area').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = this.score;
    }
};
</script>

</body>
</html>